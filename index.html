<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <link href='http://fonts.googleapis.com/css?family=Advent+Pro:400,600' rel='stylesheet' type='text/css'>
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script type="text/javascript" src="build/ctwitter-build.js"></script>
    <style>
p {
  font-family: 'Advent Pro', sans-serif;
  font-weight: bold;
}

.blue {
  color: blue;
}

.red {
  color: red;
}

.green {
  color: #afa;
}
    </style>

    <script type="text/javascript">
    $(document).ready(function () {
	var trackArray = ['obama', 'santorum', 'romney', 'gingrich'];
	var locationString = '40.744082,-73.989189,1mi';
	var twit = new ctwitter.CTwitter();
	twit.stream('statuses/filter', { lang:'en', track:trackArray }, function(stream) {
	    stream.on('data', function(tweet) {
		trackArray.forEach(function(term) {
		    term = term.replace(/\"|\'/ig, '');
		    tweet.text = tweet.text.replace(new RegExp('('+term+')','ig'), "<span class='blue'>$1</span>");
		});
		$('<p>'+tweet.text+'</p>').hide().prependTo('#tweets').slideDown();
		$('#tweets p:gt(10)').fadeOut(500, function() { $(this).remove() });
	    });
	    //setTimeout(stream.destroy, 20000);
	});
    });
    </script>
  </head>

  <body>
    <div id="tweets">
    </div>
  </body>
</html>
